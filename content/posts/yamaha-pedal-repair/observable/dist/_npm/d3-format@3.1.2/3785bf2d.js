/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/d3-format@3.1.2/src/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
function t(t,i){if(!isFinite(t)||0===t)return null;var n=(t=i?t.toExponential(i-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function i(i){return(i=t(Math.abs(i)))?i[1]:NaN}var n,r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function e(t){if(!(i=r.exec(t)))throw new Error("invalid format: "+t);var i;return new o({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10]})}function o(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function a(i,n){var r=t(i,n);if(!r)return i+"";var e=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+e:e.length>o+1?e.slice(0,o+1)+"."+e.slice(o+1):e+new Array(o-e.length+2).join("0")}e.prototype=o.prototype,o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var s={"%":(t,i)=>(100*t).toFixed(i),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,i)=>t.toExponential(i),f:(t,i)=>t.toFixed(i),g:(t,i)=>t.toPrecision(i),o:t=>Math.round(t).toString(8),p:(t,i)=>a(100*t,i),r:a,s:function(i,r){var e=t(i,r);if(!e)return n=void 0,i.toPrecision(r);var o=e[0],a=e[1],s=a-(n=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,c=o.length;return s===c?o:s>c?o+new Array(s-c+1).join("0"):s>0?o.slice(0,s)+"."+o.slice(s):"0."+new Array(1-s).join("0")+t(i,Math.max(0,r+s-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function c(t){return t}var h,u,l,f=Array.prototype.map,d=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function m(t){var r,o,a=void 0===t.grouping||void 0===t.thousands?c:(r=f.call(t.grouping,Number),o=t.thousands+"",function(t,i){for(var n=t.length,e=[],a=0,s=r[0],c=0;n>0&&s>0&&(c+s+1>i&&(s=Math.max(1,i-c)),e.push(t.substring(n-=s,n+s)),!((c+=s+1)>i));)s=r[a=(a+1)%r.length];return e.reverse().join(o)}),h=void 0===t.currency?"":t.currency[0]+"",u=void 0===t.currency?"":t.currency[1]+"",l=void 0===t.decimal?".":t.decimal+"",m=void 0===t.numerals?c:function(t){return function(i){return i.replace(/[0-9]/g,(function(i){return t[+i]}))}}(f.call(t.numerals,String)),g=void 0===t.percent?"%":t.percent+"",p=void 0===t.minus?"−":t.minus+"",v=void 0===t.nan?"NaN":t.nan+"";function M(t,i){var r=(t=e(t)).fill,o=t.align,c=t.sign,f=t.symbol,M=t.zero,x=t.width,y=t.comma,b=t.precision,w=t.trim,N=t.type;"n"===N?(y=!0,N="g"):s[N]||(void 0===b&&(b=12),w=!0,N="g"),(M||"0"===r&&"="===o)&&(M=!0,r="0",o="=");var S=(i&&void 0!==i.prefix?i.prefix:"")+("$"===f?h:"#"===f&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),k=("$"===f?u:/[%p]/.test(N)?g:"")+(i&&void 0!==i.suffix?i.suffix:""),z=s[N],A=/[defgprs%]/.test(N);function j(t){var i,e,s,h=S,u=k;if("c"===N)u=z(t)+u,t="";else{var f=(t=+t)<0||1/t<0;if(t=isNaN(t)?v:z(Math.abs(t),b),w&&(t=function(t){t:for(var i,n=t.length,r=1,e=-1;r<n;++r)switch(t[r]){case".":e=i=r;break;case"0":0===e&&(e=r),i=r;break;default:if(!+t[r])break t;e>0&&(e=0)}return e>0?t.slice(0,e)+t.slice(i+1):t}(t)),f&&0==+t&&"+"!==c&&(f=!1),h=(f?"("===c?c:p:"-"===c||"("===c?"":c)+h,u=("s"!==N||isNaN(t)||void 0===n?"":d[8+n/3])+u+(f&&"("===c?")":""),A)for(i=-1,e=t.length;++i<e;)if(48>(s=t.charCodeAt(i))||s>57){u=(46===s?l+t.slice(i+1):t.slice(i))+u,t=t.slice(0,i);break}}y&&!M&&(t=a(t,1/0));var g=h.length+t.length+u.length,j=g<x?new Array(x-g+1).join(r):"";switch(y&&M&&(t=a(j+t,j.length?x-u.length:1/0),j=""),o){case"<":t=h+t+u+j;break;case"=":t=h+j+t+u;break;case"^":t=j.slice(0,g=j.length>>1)+h+t+u+j.slice(g);break;default:t=j+h+t+u}return m(t)}return b=void 0===b?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),j.toString=function(){return t+""},j}return{format:M,formatPrefix:function(t,n){var r=3*Math.max(-8,Math.min(8,Math.floor(i(n)/3))),o=Math.pow(10,-r),a=M(((t=e(t)).type="f",t),{suffix:d[8+r/3]});return function(t){return a(o*t)}}}}function g(t){return h=m(t),u=h.format,l=h.formatPrefix,h}function p(t){return Math.max(0,-i(Math.abs(t)))}function v(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(i(n)/3)))-i(Math.abs(t)))}function M(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,i(n)-i(t))+1}g({thousands:",",grouping:[3],currency:["$",""]});export{o as FormatSpecifier,u as format,g as formatDefaultLocale,m as formatLocale,l as formatPrefix,e as formatSpecifier,p as precisionFixed,v as precisionPrefix,M as precisionRound};export default null;
